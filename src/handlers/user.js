// src/handlers/user-simple.js
module.exports = function setupUserHandlers(bot) {
  console.log('✅ Регистрация обработчиков кнопок пользователя...');
  
  // Просмотр посылок
  bot.hears('📦 Мои посылки', async (ctx) => {
    console.log('🎯 КНОПКА "📦 Мои посылки" НАЖАТА!');
    await ctx.reply('Вы нажали "Мои посылки". Кнопка работает!');
  });

  // Добавление посылки
  bot.hears('➕ Добавить посылку', async (ctx) => {
    console.log('🎯 КНОПКА "➕ Добавить посылку" НАЖАТА!');
    await ctx.reply('Вы нажали "Добавить посылку". Кнопка работает!');
  });

  // Просмотр склада
  bot.hears('🏪 Склад', async (ctx) => {
    console.log('🎯 КНОПКА "🏪 Склад" НАЖАТА!');
    await ctx.reply('Вы нажали "Склад". Кнопка работает!');
  });

  // Напоминания
  bot.hears('🔔 Напоминания', async (ctx) => {
    console.log('🎯 КНОПКА "🔔 Напоминания" НАЖАТА!');
    await ctx.reply('Вы нажали "Напоминания". Кнопка работает!');
  });

  // Статистика
  bot.hears('📊 Статистика', async (ctx) => {
    console.log('🎯 КНОПКА "📊 Статистика" НАЖАТА!');
    await ctx.reply('Вы нажали "Статистика". Кнопка работает!');
  });

  // Помощь
  bot.hears('🆘 Помощь', async (ctx) => {
    console.log('🎯 КНОПКА "🆘 Помощь" НАЖАТА!');
    await ctx.reply('Вы нажали "Помощь". Кнопка работает!');
  });

  // Кнопка "Назад"
  bot.hears('🔙 Назад', async (ctx) => {
    console.log('🎯 КНОПКА "🔙 Назад" НАЖАТА!');
    
    await ctx.reply('Главное меню:', {
      reply_markup: {
        keyboard: [
          ['📦 Мои посылки', '➕ Добавить посылку'],
          ['🏪 Склад', '🔔 Напоминания'],
          ['📊 Статистика', '🆘 Помощь']
        ],
        resize_keyboard: true
      }
    });
  });
};